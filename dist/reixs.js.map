{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js","node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","node_modules/@babel/runtime/helpers/assertThisInitialized.js","node_modules/@babel/runtime/helpers/asyncToGenerator.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/construct.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/getPrototypeOf.js","node_modules/@babel/runtime/helpers/inherits.js","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/interopRequireWildcard.js","node_modules/@babel/runtime/helpers/iterableToArray.js","node_modules/@babel/runtime/helpers/nonIterableSpread.js","node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/toConsumableArray.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/@babel/runtime/regenerator/index.js","node_modules/regenerator-runtime/runtime.js","src/core/constructor/index.js","src/core/constructor/reixs-all.js","src/core/constructor/reixs-race.js","src/core/constructor/reixs.js","src/core/constructor/scheduler.js","src/core/create-request/index.js","src/core/create-request/mark-map.js","src/core/create-request/request-timer.js","src/core/create-request/wait.js","src/core/request/handle-fetch.js","src/core/request/index.js","src/reixs.js","src/shared/constants.js","src/shared/utils.js"],"names":[],"mappings":"AAAA;;;ACAA,MAAM,CAAC,OAAP,GAAiB,OAAO,CAAC,aAAD,CAAP,WAAjB;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"reixs.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","module.exports = require('./src/reixs').default","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\n\nmodule.exports = _interopRequireWildcard;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = require(\"regenerator-runtime\");\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import reixs from './reixs'\nimport reixsAll from './reixs-all'\nimport reixsRace from './reixs-race'\n\nexport const Reixs = reixs\nexport const ReixsAll = reixsAll\nexport const ReixsRace = reixsRace","\nimport createRequest from '../create-request'\n\nimport Scheduler from './scheduler'\n\n/**\n *  Concurrent request\n */\nexport default class ReixsAll  extends Scheduler {\n    _schedulers = []\n\n    constructor(...schedulers) {\n        super()\n        this._schedulers = schedulers\n        this._initRequest()\n    }\n\n    /**\n     * Create request function\n     */\n    _initRequest() {\n        const {_config, _sendRequest, _execute, _hook} = this\n        this.request = createRequest(\n            _config, \n            _sendRequest.bind(this), \n            _execute.bind(this), \n            _hook\n        )\n    }\n\n    /**\n     * Concurrent all scheduler\n     * \n     */\n    async _sendRequest() {\n        const {_schedulers} = this\n        const data = await Promise.all(_schedulers.map(scheduler=>{\n            return new Promise( resolve => {\n                scheduler.request.call({\n                    ...scheduler, \n                    injection(data) {\n                        resolve(data)\n                    }\n                })\n            })\n        }))\n        return data\n    }\n}\n","\nimport createRequest from '../create-request'\n\nimport Scheduler from './scheduler'\n\n/**\n *  Multiple request race\n */\nexport default class ReixsRace  extends Scheduler {\n    _schedulers = []\n\n    constructor(...schedulers) {\n        super()\n        this._schedulers = schedulers\n        this._initRequest()\n    }\n\n    /**\n     * Create request function\n     */\n    _initRequest() {\n        const {_config, _sendRequest, _execute, _hook} = this\n        this.request = createRequest(\n            _config, \n            _sendRequest.bind(this), \n            _execute.bind(this), \n            _hook\n        )\n    }\n\n    /**\n     * The scheduler for the race\n     * \n     */\n    async _sendRequest() {\n        const {_schedulers} = this\n        const data = await Promise.race(_schedulers.map(scheduler=>{\n            return new Promise( resolve => {\n                scheduler.request.call({\n                    ...scheduler, \n                    injection(data) {\n                        resolve(data)\n                    }\n                })\n            })\n        }))\n        return data\n    }\n}\n","import {dataFiltering, isPlainObject} from '../../shared/utils'\nimport {METHOD_TYPES} from '../../shared/constants'\n\nimport createRequest from '../create-request'\nimport * as request from '../request'\n\nimport Scheduler from './scheduler'\n\n/**\n *  Separate request object\n */\nclass Reixs  extends Scheduler {\n    constructor(url, method = 'get', params = null) {\n        super()\n\n        // Initialize the http\n        this._http = {\n            ...this._http,\n            url,\n            params\n        }\n        this.setMethod(method)\n\n        // Create request function\n        this._initRequest()\n    }\n\n    // Multiple requests Shared\n    static global = {\n        globalHeader: {},\n        globalParams: {},\n        reqPipes: [],\n        resPipes: [],\n        beforeReq: null,\n        afterReq: null,\n        beforeRes: null,\n        afterRes: null\n    }\n\n    // Network request information\n    _http = {\n        url: '',\n        method: null,\n        header: {},\n        params: null,\n        cookie: true\n    }\n\n    // Data filtering\n    _pipes = {\n        reqPipes: [],\n        resPipes: []\n    }\n\n    // Different stage interceptors\n    _interceptors = {\n        beforeReq: null, \n        afterReq: null, \n        beforeRes: null, \n        afterRes: null\n    }\n\n    /**\n     * Complete request header\n     * \n     * @return {Object} \n     */\n    get requesetHeader() {\n        const {header} = this._http\n        const {globalHeader} = Reixs.global\n        return Object.assign(globalHeader, header)\n    }\n    \n    /**\n     * Complete request parameters\n     * \n     * @param {Object} params \n     */\n    _getParams(params) {\n        if (typeof params !== 'object') return params\n        const {globalParams} = Reixs.global\n        return Object.assign(globalParams, params)\n    }\n\n    /**\n     * Create request function\n     */\n    _initRequest() {\n        const {_config, _sendRequest, _execute, _hook} = this\n        this.request = createRequest(\n            _config, \n            _sendRequest.bind(this), \n            _execute.bind(this), \n            _hook\n        )\n    }\n\n    /**\n     * Set the request url\n     * \n     * @param {string} url \n     */\n    setUrl(url) {\n        if (typeof url === 'string') {\n            this._http.url = url\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n    \n    /**\n     * Set the request header\n     * \n     * @param {Object} header \n     */\n    setHeader(header) {\n        if (isPlainObject(header)) {\n            this._http.header = header\n        } else {\n            throw new Error('The argument passed in must be a literal object')\n        }\n        return this\n    }\n\n    /**\n     * Set request parameters\n     * \n     * @param {*} params \n     */\n    setParams(params) {\n        if (typeof params !== 'object' || isPlainObject(params) || Array.isArray(params)) {\n            this._http.params = params\n        } else {\n            throw new Error('When the parameter type is object, The argument passed in must be a literal object')\n        }   \n        return this\n    }\n    \n    /**\n     * Set whether to carry cookies\n     * \n     * @param {boolean} ifCookie \n     */\n    setCookie(ifCookie) {\n        if (typeof ifCookie === 'boolean') {\n            this._http.cookie = ifCookie\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n\n    /**\n     * Set the request method\n     * \n     * @param {string} method \n     */\n    setMethod(method = null) {\n        method = method.toLowerCase()\n        if (METHOD_TYPES.includes(method)) {\n            this._http.method = method\n        } else {\n            throw new Error('Invalid method')\n        }\n        return this\n    }\n    \n    /**\n     * Set the request filter pipeline\n     * \n     * @param  {...any} pipes \n     */\n    reqPipes(...pipes) {\n        if (pipes.find(pipe =>typeof pipe !== 'function')) {\n            throw new Error('Pipe must be a function')\n        } else {\n            this._pipes.reqPipes = [...pipes]\n        }\n        return this\n    }\n\n    /**\n     * Set the response filter pipeline\n     * \n     * @param  {...any} pipes \n     */\n    resPipes(...pipes) {\n        if (pipes.find(pipe =>typeof pipe !== 'function')) {\n            throw new Error('Pipe must be a function')\n        } else {\n            this._pipes.resPipes = [...pipes]\n        }\n        return this\n    }\n\n    /**\n     * Set request interceptor\n     * @param {Function} interceptor \n     */\n    reqInterceptor(interceptor) {\n        if (typeof interceptor === 'function') {\n            if (this._pipes.reqPipes.length) {\n                this._interceptors.afterReq = interceptor\n            } else {\n                this._interceptors.beforeReq = interceptor\n            }\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n    \n    /**\n     * Set response interceptor\n     * @param {Function} interceptor \n     */\n    resInterceptor(interceptor) {\n        if (typeof interceptor === 'function') {\n            if (this._pipes.resPipes.length) {\n                this._interceptors.afterRes = interceptor\n            } else {\n                this._interceptors.beforeRes = interceptor\n            }\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n\n    /**\n     * Send the request to the server\n     * \n     * @param {*} params \n     * @param {string} type \n     */\n    async _sendRequest(params = this._http.params, type) {\n        const {url, method, cookie} = this._http\n        const {errorHook} = this._hook\n        const {reqPipes, resPipes} = this._pipes\n        const {beforeReq, afterReq, beforeRes, afterRes} = this._interceptors\n        const {\n            reqPipes: globalReqPipes, \n            resPipes: globalResPipes,\n            beforeReq: globalBeforeReq,\n            afterReq: globalAfterReq,\n            beforeRes: globalBeforeRes,\n            afterRes: globalAfterRes\n        } = this.constructor.global\n        \n        const requestType = type ? type : method\n        const requestParams = this._getParams(params)\n\n        // Front request interceptor\n        if ((globalBeforeReq && globalBeforeReq(requestParams) === false) \n        || (beforeReq && beforeReq(requestParams) === false)) {\n            return \n        }\n\n        // The request filtering\n        let finalParams\n        try {\n            finalParams = dataFiltering([...globalReqPipes, ...reqPipes], requestParams)\n        } catch (error) {\n            errorHook(error)\n        }\n        \n        // Rear request interceptor\n        if ((globalAfterReq && globalAfterReq(finalParams) === false) \n        || (afterReq && afterReq(finalParams) === false)) {\n            return \n        }\n\n        const data = await request[requestType](\n            url, \n            finalParams,\n            this.requesetHeader,\n            cookie\n        )\n        \n        // Front response interceptor\n        if ((globalBeforeRes && globalBeforeRes(data) === false) \n        || (beforeRes && beforeRes(data) === false)) {\n            return \n        }\n\n        // The response filtering\n        let finalData\n        try {\n            finalData = dataFiltering([...globalResPipes, ...resPipes], data)\n        } catch (error) {\n            errorHook(error)\n        }\n\n        // Rear response interceptor\n        if ((globalAfterRes && globalAfterRes(finalData) === false) \n        || (afterRes && afterRes(finalData) === false)) {\n            return \n        }\n\n        return finalData\n    }\n}\n\n// Bind request category \nMETHOD_TYPES.map(requestType=>{\n    Reixs.prototype[requestType] = function(params) {\n        this.request(params, requestType)\n    }\n})\n\nexport default Reixs","/**\n * The underlying request model\n */\nclass Scheduler {\n    // Request trigger rule configuration\n    _config = {\n        throttle: false,\n        debounce: 0,\n        audit: false,\n        overtime: null\n    }\n\n    // Life cycle function\n    _hook = {\n        prepareHook: null,\n        tartHook: null,\n        endHook: null,\n        errorHook: null\n    }\n\n    // Task queue executed after the request is completed\n    _taskList = new Map()\n\n    /**\n     * Circular call task\n     * @param {*} data \n     */\n    _execute(data) {\n        const {errorHook} = this._hook\n        if (data !== undefined) {\n            try {\n                [...this._taskList.keys()].forEach(task =>{\n                    task(data)\n                })\n            } catch (error) {\n                errorHook && errorHook(error)\n            }\n        }\n    }\n\n    /**\n     * Set throttle\n     * \n     * @param {number|boolean} settings \n     */\n    throttle(settings) {\n        if (typeof settings === 'number' || settings === false) {\n            this._config.throttle = settings\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n\n    /**\n     * Set debounce\n     * \n     * @param {number|boolean} settings \n     */\n    debounce(settings) {\n        if (typeof settings === 'number' || settings === false) {\n            this._config.debounce = settings\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n    \n    /**\n     * Set audit\n     * \n     * @param {number|boolean} settings \n     */\n    audit(settings) {\n        if (typeof settings === 'number' || typeof settings === 'boolean') {\n            this._config.audit = settings\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n    \n    /**\n     * Set overtime\n     * \n     * @param {number|null} time \n     */\n    overtime(time) {\n        if (typeof time === 'number' || time === null) {\n            this._config.overtime = time\n        } else {\n            throw new Error('Invalid type')\n        }\n        return this\n    }\n\n    /**\n     * Add task\n     * \n     * @param {Function} task \n     */\n    task(task) {\n        if (typeof task === 'function') {\n            this._taskList.set(task)\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n\n    /**\n     * Remove assigned task\n     * \n     * @param {Function} task \n     */\n    removeTask(task) {\n        if (!this._taskList.delete(task)) {\n            throw new Error('Remove task failed')\n        }\n    }\n\n    /**\n     * Remove all task\n     */\n    removeAllTask() {\n        this._taskList.clear()\n    }\n    \n    /**\n     * Request to prepare\n     * \n     * @param {Function} prepareHook \n     */\n    prepare(prepareHook) {\n        if (typeof prepareHook === 'function') {\n            this._hook.prepareHook = prepareHook\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n\n    /**\n     * Request to start\n     * \n     * @param {Function} startHook \n     */\n    start(startHook) {\n        if (typeof startHook === 'function') {\n            this._hook.startHook = startHook\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n    \n    /**\n     * Request to end\n     * \n     * @param {Function} endHook \n     */\n    end(endHook) {\n        if (typeof endHook === 'function') {\n            this._hook.endHook = endHook\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n    \n    /**\n     * Request to error\n     * \n     * @param {Function} errorHook \n     */\n    error(errorHook) {\n        if (typeof errorHook === 'function') {\n            this._hook.errorHook = errorHook\n            return this\n        } else {\n            throw new Error('Invalid type')\n        }\n    }\n}\n\n// Scheduler is blocked from inheriting an Object\nObject.setPrototypeOf(Scheduler.prototype, Object.create(null))\n\nexport default Scheduler","import MarkMap from './mark-map'\nimport {ThrottleWait, DebounceWait} from './wait'\nimport requestTimer from './request-timer'\n\n/**\n * The method to create the request\n * \n * @param {Object} config \n * @param {Function} sendRequest \n * @param {Array} execute \n * @param {Object} hook \n */ \nexport default function(config, sendRequest, execute, hook) {\n    const markMap = new MarkMap()\n    const throttleWait = new ThrottleWait()\n    const debounceWait = new DebounceWait()\n    return async function(...par) {\n        const {prepareHook, startHook, endHook} = hook\n        const {throttle, debounce, audit, overtime} = config\n\n        // External rewrite method\n        const {injection} = this\n\n        prepareHook && prepareHook()\n        let mark\n        if (audit) {\n            mark = markMap.get(audit)\n        }\n        await Promise.all([\n            throttleWait.get(throttle), \n            debounceWait.get(debounce)\n        ])\n        startHook && startHook()\n        const {timeout, data} = await requestTimer(sendRequest(...par), overtime)\n\n        if (data === undefined) {\n            endHook && endHook()\n            return \n        }\n\n        // If audit is set, the duplicate request is discarded\n        if (!audit || markMap.test(mark)) {\n            // If the timeout occurs, the task is not processed\n            if (!timeout) {\n                if (injection) {\n                    injection(data)\n                } \n                execute(data)\n            }\n            endHook && endHook()\n        }\n    }\n}","/**\n * Verify that mark is deprecated\n */\nexport default class {\n    _map = []\n\n    /**\n     * Get mark\n     * @param {number|boolean} audit \n     */\n    get(audit) {\n        const {_map} = this\n        if (audit) {\n            const sym = Symbol()\n            const time = Date.now()\n            let sign\n            if (!_map.length \n                || (time - _map[_map.length - 1].time > audit \n                    && audit !== true)\n            ) {\n                sign = {\n                    sym, \n                    time\n                }\n                _map.push(sign)\n            } else {\n                sign = _map[_map.length - 1]\n                sign.sym = sym\n                sign.time = time\n            }\n\n            return {\n                sign,\n                sym: sign.sym\n            }\n        }\n        return null\n    }\n\n    /**\n     * Verify the mark\n     * @param {Object} mark \n     */\n    test(mark) {\n        if (mark && mark.sym !== mark.sign.sym) {\n            return false\n        } \n\n        if (mark) {\n            const {_map} = this\n            const index = _map.indexOf(mark.sign)\n            _map.splice(index, 1)\n        }\n        return true\n    }\n}","/**\n * Create delay promise\n * \n * @param {number} time \n */\nfunction createWait(time) {\n    return time === 0 ? Promise.resolve()\n        : new Promise(resolve=>{\n            setTimeout(()=>resolve(), time)\n        })\n}\n\n/**\n * Detect timeout\n * \n * @param {Promise} promise \n * @param {null|number} time \n */\nexport default function requestTimer(promise, time) {\n    const request = promise.then(data=>({\n        timeout: false, \n        data\n    }))\n    const timer = createWait(time).then(()=>({\n        timeout: true, \n        data: null\n    }))\n    return time === null ? request\n        : Promise.race([request, timer])\n}","/**\n * Create wait object\n */\nclass Wait {\n    _timer = null\n\n    /**\n     * Create internal promise\n     * @param {number} time \n     */\n    _createPromise(time) {\n        return time ? new Promise(resolve=>{\n            this._timer =  setTimeout(()=>{ \n                this._timer = null\n                resolve() \n            }, time)\n        }) : Promise.resolve()\n    }\n}\n\n/**\n * Create debounce wait object\n */\nexport class ThrottleWait extends Wait {\n    constructor() {\n        super()\n    }\n\n    /**\n     * get await promise\n     * @param {number} time \n     */\n    get(time) {\n        if (this._timer) {\n            return new Promise(()=>{})\n        }\n        return this._createPromise(time)\n    }\n}\n\n/**\n * Create debounce wait object\n */\nexport class DebounceWait extends Wait {\n    constructor() {\n        super()\n    }\n\n    /**\n     * get await promise\n     * @param {number} time \n     */\n    get(time) {\n        if (this._timer) {\n            clearTimeout(this._timer)\n            this._timer = null\n        }\n        return this._createPromise(time)\n    }\n}","\n/**\n * Check for success\n * \n * @param {Object} response \n */\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        const contentType = response.headers.get('content-type')\n        if (contentType && contentType.includes('application/json')) {\n            return response.json()\n        } else {\n            return response.text()\n        }\n    } else {\n        throw new Error()\n    }\n}\n\n/**\n * Handle fetch\n * \n * @param {Object} promise \n */\nexport default function handleFetch(promise) {\n    return promise\n        .then(response => checkStatus(response))\n        .catch(error => {\n            throw error\n        })\n}","import {CONTENT_TYPE} from '../../shared/constants'\nimport handleFetch from './handle-fetch'\nimport {isPlainObject} from '../../shared/utils'\n\n/**\n * Query String Parameters\n *\n * @param {string} url\n * @param {*} data\n * @param {Object} headers\n * @param {boolean} cookie\n */\nexport function get(url, data, headers, cookie) {\n    url = new URL(url)\n    if (isPlainObject(data)) {\n        Object.keys(data)\n            .forEach(key => url.searchParams.append(key, data[key]))\n    } else {\n        url.search = data.toString()\n    }\n    const promise = fetch(url, {\n        method: 'GET',\n        headers: {\n            ...headers\n        },\n        credentials: cookie ? 'include' : 'omit'\n    })\n    return handleFetch(promise)\n}\n\n/**\n * Dynamic Router\n *\n * @param {string} url\n * @param {*} data\n * @param {Object} headers\n * @param {boolean} cookie\n */\nexport function push(url, data, headers, cookie) {\n    url = new URL(url)\n    url.pathname += `/${data.toString()}`\n    const promise = fetch(url, {\n        method: 'GET',\n        headers: {\n            ...headers\n        },\n        credentials: cookie ? 'include' : 'omit'\n    })\n    return handleFetch(promise)\n}\n\n/**\n * Request Payload\n *\n * @param {string} url\n * @param {*} data\n * @param {Object} headers\n * @param {boolean} cookie\n */\nexport function post(url, data, headers, cookie) {\n    url = new URL(url)\n    if (isPlainObject(data)) {\n        data = JSON.stringify(data)\n    }\n    const promise = fetch(url, {\n        method: 'POST',\n        body: data.toString(),\n        headers: {\n            'Content-type': CONTENT_TYPE['JSON'],\n            ...headers\n        },\n        credentials: cookie ? 'include' : 'omit'\n    })\n    return handleFetch(promise)\n}\n\n/**\n * Form Data\n *\n * @param {string} url\n * @param {*} data\n * @param {Object} headers\n * @param {boolean} cookie\n */\nexport function form(url, data, headers, cookie) {\n    url = new URL(url)\n    let fromData = ''\n    if (isPlainObject(data)) {\n        Object.keys(data).forEach(key => {\n            fromData += `${encodeURIComponent(key)}=${encodeURIComponent(data[key])}&`\n        })\n    } else {\n        fromData = data.toString()\n    }\n    const promise = fetch(url, {\n        method: 'POST',\n        body: fromData,\n        headers: {\n            'Content-type': CONTENT_TYPE['FORM'],\n            ...headers\n        },\n        credentials: cookie ? 'include' : 'omit'\n    })\n    return handleFetch(promise)\n}\n","import {Reixs, ReixsAll, ReixsRace} from './core/constructor'\n\nimport {isPlainObject} from './shared/utils'\n\n/**\n * Set pipe \n * \n * @param {string} name \n * @param  {...any} funList \n */\nfunction setPipes(name, ...funList) {\n    funList.forEach(fn=>{\n        if (typeof fn !== 'function') {\n            throw new Error('Invalid type')\n        }\n    })\n    Reixs.global[name] = [...funList]\n}\n\n/**\n * Set Interceptor\n * \n * @param {string} name \n * @param {Function} fun \n */\nfunction setInterceptor(name, fun) {\n    if (typeof fn === 'function') {\n        Reixs.global[name] = fun\n    } else {\n        throw new Error('Invalid type')\n    }\n}\n\n/**\n * reixs method\n * \n * @param {string} url \n * @param {string} method \n * @param {*} params \n */\nfunction reixs(url, method, params) {\n    return  new Reixs(url, method, params)\n}\n\n// reixs.all\nreixs.all = (...scheduler) => new ReixsAll(...scheduler)\n// reixs.race\nreixs.race = (...scheduler) => new ReixsRace(...scheduler)\n\n// Replaced by browserify-versionify transform\nreixs.version = '__VERSION__'\n\n// Set request and response pipe\nreixs.reqPipes = setPipes.bind(null, 'reqPipes')\nreixs.resPipes = setPipes.bind(null, 'resPipes')\n\n// Set request and response interceptor\nreixs.beforeReq = setInterceptor.bind(null, 'beforeReq')\nreixs.afterReq = setInterceptor.bind(null, 'afterReq')\nreixs.beforeRes = setInterceptor.bind(null, 'beforeRes')\nreixs.afterRes = setInterceptor.bind(null, 'afterRes')\n\n// Set global header\nReflect.defineProperty(reixs, 'globalHeader', {\n    set(value) {\n        if (isPlainObject(value)) {\n            Reixs.global.globalHeader = value\n        } else {\n            throw new Error('The argument passed in must be a literal object')\n        }\n    }\n})\n\n// Set global params\nReflect.defineProperty(reixs, 'globalParams', {\n    set(value) {\n        if (isPlainObject(value)) {\n            Reixs.global.globalParams = value\n        } else {\n            throw new Error('The argument passed in must be a literal object')\n        }\n    }\n})\n\nexport default reixs\n\n\n","export const METHOD_TYPES = [\n    'get',\n    'post',\n    'form',\n    'push'\n]\n\nexport const CONTENT_TYPE = {\n    JSON: 'application/json;charset=UTF-8',\n    FORM: 'application/x-www-form-urlencoded; charset=UTF-8'\n}","/**\n * Data processing\n * \n * @param {Array} pipes \n * @param {*} data \n */\nexport function dataFiltering(pipes, data) {\n    const newData = [data, ...pipes].reduce((prev, cur)=>cur(prev))\n    return newData\n}\n\n/**\n * Determines whether it is a literal object\n * \n * @param {Object} obj \n */\nexport function isPlainObject(obj) {\n    if (typeof obj !== 'object' || obj === null) return false\n  \n    let proto = obj\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto)\n    }\n  \n    return Object.getPrototypeOf(obj) === proto\n}\n  "],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXNzZXJ0VGhpc0luaXRpYWxpemVkLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY29uc3RydWN0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXRQcm90b3R5cGVPZi5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2luaGVyaXRzLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlU3ByZWFkLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIm5vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NldFByb3RvdHlwZU9mLmpzIiwibm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiLCJub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwic3JjL2NvcmUvY29uc3RydWN0b3IvaW5kZXguanMiLCJzcmMvY29yZS9jb25zdHJ1Y3Rvci9yZWl4cy1hbGwuanMiLCJzcmMvY29yZS9jb25zdHJ1Y3Rvci9yZWl4cy1yYWNlLmpzIiwic3JjL2NvcmUvY29uc3RydWN0b3IvcmVpeHMuanMiLCJzcmMvY29yZS9jb25zdHJ1Y3Rvci9zY2hlZHVsZXIuanMiLCJzcmMvY29yZS9jcmVhdGUtcmVxdWVzdC9pbmRleC5qcyIsInNyYy9jb3JlL2NyZWF0ZS1yZXF1ZXN0L21hcmstbWFwLmpzIiwic3JjL2NvcmUvY3JlYXRlLXJlcXVlc3QvcmVxdWVzdC10aW1lci5qcyIsInNyYy9jb3JlL2NyZWF0ZS1yZXF1ZXN0L3dhaXQuanMiLCJzcmMvY29yZS9yZXF1ZXN0L2hhbmRsZS1mZXRjaC5qcyIsInNyYy9jb3JlL3JlcXVlc3QvaW5kZXguanMiLCJzcmMvcmVpeHMuanMiLCJzcmMvc2hhcmVkL2NvbnN0YW50cy5qcyIsInNyYy9zaGFyZWQvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLE9BQU8sQ0FBQyxhQUFELENBQVAsV0FBakI7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hCQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LFlBQWIsR0FBNEIsS0FBNUI7QUFDSCxLQUZELE1BRU87QUFDSCxZQUFNLElBQUksS0FBSixDQUFVLGlEQUFWLENBQU47QUFDSDtBQUNKO0FBUHlDLENBQTlDO2VBVWUsSzs7Ozs7Ozs7OztBQ3BGUixJQUFNLFlBQVksR0FBRyxDQUN4QixLQUR3QixFQUV4QixNQUZ3QixFQUd4QixNQUh3QixFQUl4QixNQUp3QixDQUFyQjs7QUFPQSxJQUFNLFlBQVksR0FBRztBQUN4QixFQUFBLElBQUksRUFBRSxnQ0FEa0I7QUFFeEIsRUFBQSxJQUFJLEVBQUU7QUFGa0IsQ0FBckI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1BQOzs7Ozs7QUFNTyxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsRUFBOEIsSUFBOUIsRUFBb0M7QUFDdkMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFELDZDQUFVLEtBQVYsR0FBaUIsTUFBakIsQ0FBd0IsVUFBQyxJQUFELEVBQU8sR0FBUDtBQUFBLFdBQWEsR0FBRyxDQUFDLElBQUQsQ0FBaEI7QUFBQSxHQUF4QixDQUFoQjtBQUNBLFNBQU8sT0FBUDtBQUNIO0FBRUQ7Ozs7Ozs7QUFLTyxTQUFTLGFBQVQsQ0FBdUIsR0FBdkIsRUFBNEI7QUFDL0IsTUFBSSx5QkFBTyxHQUFQLE1BQWUsUUFBZixJQUEyQixHQUFHLEtBQUssSUFBdkMsRUFBNkMsT0FBTyxLQUFQO0FBRTdDLE1BQUksS0FBSyxHQUFHLEdBQVo7O0FBQ0EsU0FBTyxNQUFNLENBQUMsY0FBUCxDQUFzQixLQUF0QixNQUFpQyxJQUF4QyxFQUE4QztBQUMxQyxJQUFBLEtBQUssR0FBRyxNQUFNLENBQUMsY0FBUCxDQUFzQixLQUF0QixDQUFSO0FBQ0g7O0FBRUQsU0FBTyxNQUFNLENBQUMsY0FBUCxDQUFzQixHQUF0QixNQUErQixLQUF0QztBQUNIIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3NyYy9yZWl4cycpLmRlZmF1bHQiLCJmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhvdXRIb2xlczsiLCJmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuXG4gIHJldHVybiBzZWxmO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQ7IiwiZnVuY3Rpb24gYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBrZXksIGFyZykge1xuICB0cnkge1xuICAgIHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTtcbiAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlamVjdChlcnJvcik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGluZm8uZG9uZSkge1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihfbmV4dCwgX3Rocm93KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfYXN5bmNUb0dlbmVyYXRvcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICBmdW5jdGlvbiBfbmV4dCh2YWx1ZSkge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwibmV4dFwiLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIF90aHJvdyhlcnIpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcInRocm93XCIsIGVycik7XG4gICAgICB9XG5cbiAgICAgIF9uZXh0KHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2FzeW5jVG9HZW5lcmF0b3I7IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY2xhc3NDYWxsQ2hlY2s7IiwidmFyIHNldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4vc2V0UHJvdG90eXBlT2ZcIik7XG5cbmZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gIHRyeSB7XG4gICAgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgaWYgKGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBzZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY29uc3RydWN0OyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mOyIsInZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3NldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzOyIsImZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgXCJkZWZhdWx0XCI6IG9ialxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQ7IiwiZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7XG4gIGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgIGlmIChvYmogIT0gbnVsbCkge1xuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IHt9O1xuXG4gICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIG5ld09ialtcImRlZmF1bHRcIl0gPSBvYmo7XG4gICAgcmV0dXJuIG5ld09iajtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkOyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9pdGVyYWJsZVRvQXJyYXk7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIi4uL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgYXNzZXJ0VGhpc0luaXRpYWxpemVkID0gcmVxdWlyZShcIi4vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCIpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuOyIsImZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NldFByb3RvdHlwZU9mOyIsInZhciBhcnJheVdpdGhvdXRIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aG91dEhvbGVzXCIpO1xuXG52YXIgaXRlcmFibGVUb0FycmF5ID0gcmVxdWlyZShcIi4vaXRlcmFibGVUb0FycmF5XCIpO1xuXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90b0NvbnN1bWFibGVBcnJheTsiLCJmdW5jdGlvbiBfdHlwZW9mMihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZjIob2JqKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIF90eXBlb2YyKFN5bWJvbC5pdGVyYXRvcikgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IF90eXBlb2YyKG9iaik7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWdlbmVyYXRvci1ydW50aW1lXCIpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9XG4gICAgR2VuZXJhdG9yRnVuY3Rpb24uZGlzcGxheU5hbWUgPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG5cbiAgLy8gSGVscGVyIGZvciBkZWZpbmluZyB0aGUgLm5leHQsIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcyBvZiB0aGVcbiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC5cbiAgZnVuY3Rpb24gZGVmaW5lSXRlcmF0b3JNZXRob2RzKHByb3RvdHlwZSkge1xuICAgIFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShtZXRob2QsIGFyZyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBpZiAoISh0b1N0cmluZ1RhZ1N5bWJvbCBpbiBnZW5GdW4pKSB7XG4gICAgICAgIGdlbkZ1blt0b1N0cmluZ1RhZ1N5bWJvbF0gPSBcIkdlbmVyYXRvckZ1bmN0aW9uXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGdlbkZ1bi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdwKTtcbiAgICByZXR1cm4gZ2VuRnVuO1xuICB9O1xuXG4gIC8vIFdpdGhpbiB0aGUgYm9keSBvZiBhbnkgYXN5bmMgZnVuY3Rpb24sIGBhd2FpdCB4YCBpcyB0cmFuc2Zvcm1lZCB0b1xuICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdFxuICAvLyBgaGFzT3duLmNhbGwodmFsdWUsIFwiX19hd2FpdFwiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuXG4gIGV4cG9ydHMuYXdyYXAgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAvLyBXaGVuIGEgeWllbGRlZCBQcm9taXNlIGlzIHJlc29sdmVkLCBpdHMgZmluYWwgdmFsdWUgYmVjb21lc1xuICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IHVud3JhcHBlZDtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgLy8gSWYgYSByZWplY3RlZCBQcm9taXNlIHdhcyB5aWVsZGVkLCB0aHJvdyB0aGUgcmVqZWN0aW9uIGJhY2tcbiAgICAgICAgICAvLyBpbnRvIHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gc28gaXQgY2FuIGJlIGhhbmRsZWQgdGhlcmUuXG4gICAgICAgICAgcmV0dXJuIGludm9rZShcInRocm93XCIsIGVycm9yLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIEFzeW5jSXRlcmF0b3IucHJvdG90eXBlW2FzeW5jSXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBleHBvcnRzLkFzeW5jSXRlcmF0b3IgPSBBc3luY0l0ZXJhdG9yO1xuXG4gIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2ZcbiAgLy8gQXN5bmNJdGVyYXRvciBvYmplY3RzOyB0aGV5IGp1c3QgcmV0dXJuIGEgUHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mXG4gIC8vIHRoZSBmaW5hbCByZXN1bHQgcHJvZHVjZWQgYnkgdGhlIGl0ZXJhdG9yLlxuICBleHBvcnRzLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdClcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yXCI7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBHcFtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7XG4gICAgdmFyIGVudHJ5ID0geyB0cnlMb2M6IGxvY3NbMF0gfTtcblxuICAgIGlmICgxIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmNhdGNoTG9jID0gbG9jc1sxXTtcbiAgICB9XG5cbiAgICBpZiAoMiBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5maW5hbGx5TG9jID0gbG9jc1syXTtcbiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTtcbiAgICB9XG5cbiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7XG4gICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb24gfHwge307XG4gICAgcmVjb3JkLnR5cGUgPSBcIm5vcm1hbFwiO1xuICAgIGRlbGV0ZSByZWNvcmQuYXJnO1xuICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7XG4gICAgLy8gVGhlIHJvb3QgZW50cnkgb2JqZWN0IChlZmZlY3RpdmVseSBhIHRyeSBzdGF0ZW1lbnQgd2l0aG91dCBhIGNhdGNoXG4gICAgLy8gb3IgYSBmaW5hbGx5IGJsb2NrKSBnaXZlcyB1cyBhIHBsYWNlIHRvIHN0b3JlIHZhbHVlcyB0aHJvd24gZnJvbVxuICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC5cbiAgICB0aGlzLnRyeUVudHJpZXMgPSBbeyB0cnlMb2M6IFwicm9vdFwiIH1dO1xuICAgIHRyeUxvY3NMaXN0LmZvckVhY2gocHVzaFRyeUVudHJ5LCB0aGlzKTtcbiAgICB0aGlzLnJlc2V0KHRydWUpO1xuICB9XG5cbiAgZXhwb3J0cy5rZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAga2V5cy5yZXZlcnNlKCk7XG5cbiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcFxuICAgIC8vIHRoaW5ncyBzaW1wbGUgYW5kIHJldHVybiB0aGUgbmV4dCBmdW5jdGlvbiBpdHNlbGYuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMucG9wKCk7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTtcbiAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWVcbiAgICAgIC8vIGFuZCAuZG9uZSBwcm9wZXJ0aWVzIG9mZiB0aGUgbmV4dCBmdW5jdGlvbiBvYmplY3QgaXRzZWxmLiBUaGlzXG4gICAgICAvLyBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgbWluaWZpZXIgd2lsbCBub3QgYW5vbnltaXplIHRoZSBmdW5jdGlvbi5cbiAgICAgIG5leHQuZG9uZSA9IHRydWU7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbHVlcyhpdGVyYWJsZSkge1xuICAgIGlmIChpdGVyYWJsZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gaXRlcmFibGVbaXRlcmF0b3JTeW1ib2xdO1xuICAgICAgaWYgKGl0ZXJhdG9yTWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIGkgPSAtMSwgbmV4dCA9IGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGl0ZXJhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkge1xuICAgICAgICAgICAgICBuZXh0LnZhbHVlID0gaXRlcmFibGVbaV07XG4gICAgICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBuZXh0LnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG5leHQuZG9uZSA9IHRydWU7XG5cbiAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV4dC5uZXh0ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gYW4gaXRlcmF0b3Igd2l0aCBubyB2YWx1ZXMuXG4gICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9O1xuICB9XG4gIGV4cG9ydHMudmFsdWVzID0gdmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGRvbmVSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICB9XG5cbiAgQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IENvbnRleHQsXG5cbiAgICByZXNldDogZnVuY3Rpb24oc2tpcFRlbXBSZXNldCkge1xuICAgICAgdGhpcy5wcmV2ID0gMDtcbiAgICAgIHRoaXMubmV4dCA9IDA7XG4gICAgICAvLyBSZXNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwnc1xuICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgIHRoaXMuc2VudCA9IHRoaXMuX3NlbnQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsO1xuXG4gICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcblxuICAgICAgICBpZiAoY2F1Z2h0KSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jayxcbiAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEgY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gXCJlbmRcIjtcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIgJiYgYWZ0ZXJMb2MpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH0sXG5cbiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykge1xuICAgICAgICAgIHRoaXMuY29tcGxldGUoZW50cnkuY29tcGxldGlvbiwgZW50cnkuYWZ0ZXJMb2MpO1xuICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIFwiY2F0Y2hcIjogZnVuY3Rpb24odHJ5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gdHJ5TG9jKSB7XG4gICAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0aHJvd247XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNvbnRleHQuY2F0Y2ggbWV0aG9kIG11c3Qgb25seSBiZSBjYWxsZWQgd2l0aCBhIGxvY2F0aW9uXG4gICAgICAvLyBhcmd1bWVudCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEga25vd24gY2F0Y2ggYmxvY2suXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIik7XG4gICAgfSxcblxuICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uKGl0ZXJhYmxlLCByZXN1bHROYW1lLCBuZXh0TG9jKSB7XG4gICAgICB0aGlzLmRlbGVnYXRlID0ge1xuICAgICAgICBpdGVyYXRvcjogdmFsdWVzKGl0ZXJhYmxlKSxcbiAgICAgICAgcmVzdWx0TmFtZTogcmVzdWx0TmFtZSxcbiAgICAgICAgbmV4dExvYzogbmV4dExvY1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMubWV0aG9kID09PSBcIm5leHRcIikge1xuICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndFxuICAgICAgICAvLyBhY2NpZGVudGFsbHkgcGFzcyBpdCBvbiB0byB0aGUgZGVsZWdhdGUuXG4gICAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZVxuICAvLyBvciBub3QsIHJldHVybiB0aGUgcnVudGltZSBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gZGVjbGFyZSB0aGUgdmFyaWFibGVcbiAgLy8gcmVnZW5lcmF0b3JSdW50aW1lIGluIHRoZSBvdXRlciBzY29wZSwgd2hpY2ggYWxsb3dzIHRoaXMgbW9kdWxlIHRvIGJlXG4gIC8vIGluamVjdGVkIGVhc2lseSBieSBgYmluL3JlZ2VuZXJhdG9yIC0taW5jbHVkZS1ydW50aW1lIHNjcmlwdC5qc2AuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KFxuICAvLyBJZiB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGUsIHVzZSBtb2R1bGUuZXhwb3J0c1xuICAvLyBhcyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIG5hbWVzcGFjZS4gT3RoZXJ3aXNlIGNyZWF0ZSBhIG5ldyBlbXB0eVxuICAvLyBvYmplY3QuIEVpdGhlciB3YXksIHRoZSByZXN1bHRpbmcgb2JqZWN0IHdpbGwgYmUgdXNlZCB0byBpbml0aWFsaXplXG4gIC8vIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgdmFyaWFibGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUuXG4gIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgPyBtb2R1bGUuZXhwb3J0cyA6IHt9XG4pKTtcblxudHJ5IHtcbiAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbn0gY2F0Y2ggKGFjY2lkZW50YWxTdHJpY3RNb2RlKSB7XG4gIC8vIFRoaXMgbW9kdWxlIHNob3VsZCBub3QgYmUgcnVubmluZyBpbiBzdHJpY3QgbW9kZSwgc28gdGhlIGFib3ZlXG4gIC8vIGFzc2lnbm1lbnQgc2hvdWxkIGFsd2F5cyB3b3JrIHVubGVzcyBzb21ldGhpbmcgaXMgbWlzY29uZmlndXJlZC4gSnVzdFxuICAvLyBpbiBjYXNlIHJ1bnRpbWUuanMgYWNjaWRlbnRhbGx5IHJ1bnMgaW4gc3RyaWN0IG1vZGUsIHdlIGNhbiBlc2NhcGVcbiAgLy8gc3RyaWN0IG1vZGUgdXNpbmcgYSBnbG9iYWwgRnVuY3Rpb24gY2FsbC4gVGhpcyBjb3VsZCBjb25jZWl2YWJseSBmYWlsXG4gIC8vIGlmIGEgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgZm9yYmlkcyB1c2luZyBGdW5jdGlvbiwgYnV0IGluIHRoYXQgY2FzZVxuICAvLyB0aGUgcHJvcGVyIHNvbHV0aW9uIGlzIHRvIGZpeCB0aGUgYWNjaWRlbnRhbCBzdHJpY3QgbW9kZSBwcm9ibGVtLiBJZlxuICAvLyB5b3UndmUgbWlzY29uZmlndXJlZCB5b3VyIGJ1bmRsZXIgdG8gZm9yY2Ugc3RyaWN0IG1vZGUgYW5kIGFwcGxpZWQgYVxuICAvLyBDU1AgdG8gZm9yYmlkIEZ1bmN0aW9uLCBhbmQgeW91J3JlIG5vdCB3aWxsaW5nIHRvIGZpeCBlaXRoZXIgb2YgdGhvc2VcbiAgLy8gcHJvYmxlbXMsIHBsZWFzZSBkZXRhaWwgeW91ciB1bmlxdWUgcHJlZGljYW1lbnQgaW4gYSBHaXRIdWIgaXNzdWUuXG4gIEZ1bmN0aW9uKFwiclwiLCBcInJlZ2VuZXJhdG9yUnVudGltZSA9IHJcIikocnVudGltZSk7XG59XG4iLCJpbXBvcnQgcmVpeHMgZnJvbSAnLi9yZWl4cydcbmltcG9ydCByZWl4c0FsbCBmcm9tICcuL3JlaXhzLWFsbCdcbmltcG9ydCByZWl4c1JhY2UgZnJvbSAnLi9yZWl4cy1yYWNlJ1xuXG5leHBvcnQgY29uc3QgUmVpeHMgPSByZWl4c1xuZXhwb3J0IGNvbnN0IFJlaXhzQWxsID0gcmVpeHNBbGxcbmV4cG9ydCBjb25zdCBSZWl4c1JhY2UgPSByZWl4c1JhY2UiLCJcbmltcG9ydCBjcmVhdGVSZXF1ZXN0IGZyb20gJy4uL2NyZWF0ZS1yZXF1ZXN0J1xuXG5pbXBvcnQgU2NoZWR1bGVyIGZyb20gJy4vc2NoZWR1bGVyJ1xuXG4vKipcbiAqICBDb25jdXJyZW50IHJlcXVlc3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVpeHNBbGwgIGV4dGVuZHMgU2NoZWR1bGVyIHtcbiAgICBfc2NoZWR1bGVycyA9IFtdXG5cbiAgICBjb25zdHJ1Y3RvciguLi5zY2hlZHVsZXJzKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVycyA9IHNjaGVkdWxlcnNcbiAgICAgICAgdGhpcy5faW5pdFJlcXVlc3QoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSByZXF1ZXN0IGZ1bmN0aW9uXG4gICAgICovXG4gICAgX2luaXRSZXF1ZXN0KCkge1xuICAgICAgICBjb25zdCB7X2NvbmZpZywgX3NlbmRSZXF1ZXN0LCBfZXhlY3V0ZSwgX2hvb2t9ID0gdGhpc1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0KFxuICAgICAgICAgICAgX2NvbmZpZywgXG4gICAgICAgICAgICBfc2VuZFJlcXVlc3QuYmluZCh0aGlzKSwgXG4gICAgICAgICAgICBfZXhlY3V0ZS5iaW5kKHRoaXMpLCBcbiAgICAgICAgICAgIF9ob29rXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25jdXJyZW50IGFsbCBzY2hlZHVsZXJcbiAgICAgKiBcbiAgICAgKi9cbiAgICBhc3luYyBfc2VuZFJlcXVlc3QoKSB7XG4gICAgICAgIGNvbnN0IHtfc2NoZWR1bGVyc30gPSB0aGlzXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChfc2NoZWR1bGVycy5tYXAoc2NoZWR1bGVyPT57XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlci5yZXF1ZXN0LmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5zY2hlZHVsZXIsIFxuICAgICAgICAgICAgICAgICAgICBpbmplY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKVxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH1cbn1cbiIsIlxuaW1wb3J0IGNyZWF0ZVJlcXVlc3QgZnJvbSAnLi4vY3JlYXRlLXJlcXVlc3QnXG5cbmltcG9ydCBTY2hlZHVsZXIgZnJvbSAnLi9zY2hlZHVsZXInXG5cbi8qKlxuICogIE11bHRpcGxlIHJlcXVlc3QgcmFjZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWl4c1JhY2UgIGV4dGVuZHMgU2NoZWR1bGVyIHtcbiAgICBfc2NoZWR1bGVycyA9IFtdXG5cbiAgICBjb25zdHJ1Y3RvciguLi5zY2hlZHVsZXJzKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVycyA9IHNjaGVkdWxlcnNcbiAgICAgICAgdGhpcy5faW5pdFJlcXVlc3QoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSByZXF1ZXN0IGZ1bmN0aW9uXG4gICAgICovXG4gICAgX2luaXRSZXF1ZXN0KCkge1xuICAgICAgICBjb25zdCB7X2NvbmZpZywgX3NlbmRSZXF1ZXN0LCBfZXhlY3V0ZSwgX2hvb2t9ID0gdGhpc1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0KFxuICAgICAgICAgICAgX2NvbmZpZywgXG4gICAgICAgICAgICBfc2VuZFJlcXVlc3QuYmluZCh0aGlzKSwgXG4gICAgICAgICAgICBfZXhlY3V0ZS5iaW5kKHRoaXMpLCBcbiAgICAgICAgICAgIF9ob29rXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NoZWR1bGVyIGZvciB0aGUgcmFjZVxuICAgICAqIFxuICAgICAqL1xuICAgIGFzeW5jIF9zZW5kUmVxdWVzdCgpIHtcbiAgICAgICAgY29uc3Qge19zY2hlZHVsZXJzfSA9IHRoaXNcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IFByb21pc2UucmFjZShfc2NoZWR1bGVycy5tYXAoc2NoZWR1bGVyPT57XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlci5yZXF1ZXN0LmNhbGwoe1xuICAgICAgICAgICAgICAgICAgICAuLi5zY2hlZHVsZXIsIFxuICAgICAgICAgICAgICAgICAgICBpbmplY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pKVxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH1cbn1cbiIsImltcG9ydCB7ZGF0YUZpbHRlcmluZywgaXNQbGFpbk9iamVjdH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzJ1xuaW1wb3J0IHtNRVRIT0RfVFlQRVN9IGZyb20gJy4uLy4uL3NoYXJlZC9jb25zdGFudHMnXG5cbmltcG9ydCBjcmVhdGVSZXF1ZXN0IGZyb20gJy4uL2NyZWF0ZS1yZXF1ZXN0J1xuaW1wb3J0ICogYXMgcmVxdWVzdCBmcm9tICcuLi9yZXF1ZXN0J1xuXG5pbXBvcnQgU2NoZWR1bGVyIGZyb20gJy4vc2NoZWR1bGVyJ1xuXG4vKipcbiAqICBTZXBhcmF0ZSByZXF1ZXN0IG9iamVjdFxuICovXG5jbGFzcyBSZWl4cyAgZXh0ZW5kcyBTY2hlZHVsZXIge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgbWV0aG9kID0gJ2dldCcsIHBhcmFtcyA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGh0dHBcbiAgICAgICAgdGhpcy5faHR0cCA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2h0dHAsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldE1ldGhvZChtZXRob2QpXG5cbiAgICAgICAgLy8gQ3JlYXRlIHJlcXVlc3QgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5faW5pdFJlcXVlc3QoKVxuICAgIH1cblxuICAgIC8vIE11bHRpcGxlIHJlcXVlc3RzIFNoYXJlZFxuICAgIHN0YXRpYyBnbG9iYWwgPSB7XG4gICAgICAgIGdsb2JhbEhlYWRlcjoge30sXG4gICAgICAgIGdsb2JhbFBhcmFtczoge30sXG4gICAgICAgIHJlcVBpcGVzOiBbXSxcbiAgICAgICAgcmVzUGlwZXM6IFtdLFxuICAgICAgICBiZWZvcmVSZXE6IG51bGwsXG4gICAgICAgIGFmdGVyUmVxOiBudWxsLFxuICAgICAgICBiZWZvcmVSZXM6IG51bGwsXG4gICAgICAgIGFmdGVyUmVzOiBudWxsXG4gICAgfVxuXG4gICAgLy8gTmV0d29yayByZXF1ZXN0IGluZm9ybWF0aW9uXG4gICAgX2h0dHAgPSB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIG1ldGhvZDogbnVsbCxcbiAgICAgICAgaGVhZGVyOiB7fSxcbiAgICAgICAgcGFyYW1zOiBudWxsLFxuICAgICAgICBjb29raWU6IHRydWVcbiAgICB9XG5cbiAgICAvLyBEYXRhIGZpbHRlcmluZ1xuICAgIF9waXBlcyA9IHtcbiAgICAgICAgcmVxUGlwZXM6IFtdLFxuICAgICAgICByZXNQaXBlczogW11cbiAgICB9XG5cbiAgICAvLyBEaWZmZXJlbnQgc3RhZ2UgaW50ZXJjZXB0b3JzXG4gICAgX2ludGVyY2VwdG9ycyA9IHtcbiAgICAgICAgYmVmb3JlUmVxOiBudWxsLCBcbiAgICAgICAgYWZ0ZXJSZXE6IG51bGwsIFxuICAgICAgICBiZWZvcmVSZXM6IG51bGwsIFxuICAgICAgICBhZnRlclJlczogbnVsbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBsZXRlIHJlcXVlc3QgaGVhZGVyXG4gICAgICogXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBcbiAgICAgKi9cbiAgICBnZXQgcmVxdWVzZXRIZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IHtoZWFkZXJ9ID0gdGhpcy5faHR0cFxuICAgICAgICBjb25zdCB7Z2xvYmFsSGVhZGVyfSA9IFJlaXhzLmdsb2JhbFxuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihnbG9iYWxIZWFkZXIsIGhlYWRlcilcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ29tcGxldGUgcmVxdWVzdCBwYXJhbWV0ZXJzXG4gICAgICogXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBcbiAgICAgKi9cbiAgICBfZ2V0UGFyYW1zKHBhcmFtcykge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcyAhPT0gJ29iamVjdCcpIHJldHVybiBwYXJhbXNcbiAgICAgICAgY29uc3Qge2dsb2JhbFBhcmFtc30gPSBSZWl4cy5nbG9iYWxcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZ2xvYmFsUGFyYW1zLCBwYXJhbXMpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJlcXVlc3QgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBfaW5pdFJlcXVlc3QoKSB7XG4gICAgICAgIGNvbnN0IHtfY29uZmlnLCBfc2VuZFJlcXVlc3QsIF9leGVjdXRlLCBfaG9va30gPSB0aGlzXG4gICAgICAgIHRoaXMucmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3QoXG4gICAgICAgICAgICBfY29uZmlnLCBcbiAgICAgICAgICAgIF9zZW5kUmVxdWVzdC5iaW5kKHRoaXMpLCBcbiAgICAgICAgICAgIF9leGVjdXRlLmJpbmQodGhpcyksIFxuICAgICAgICAgICAgX2hvb2tcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVxdWVzdCB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxuICAgICAqL1xuICAgIHNldFVybCh1cmwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLl9odHRwLnVybCA9IHVybFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGUnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVxdWVzdCBoZWFkZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyIFxuICAgICAqL1xuICAgIHNldEhlYWRlcihoZWFkZXIpIHtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoaGVhZGVyKSkge1xuICAgICAgICAgICAgdGhpcy5faHR0cC5oZWFkZXIgPSBoZWFkZXJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGFyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgbGl0ZXJhbCBvYmplY3QnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHJlcXVlc3QgcGFyYW1ldGVyc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Kn0gcGFyYW1zIFxuICAgICAqL1xuICAgIHNldFBhcmFtcyhwYXJhbXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09ICdvYmplY3QnIHx8IGlzUGxhaW5PYmplY3QocGFyYW1zKSB8fCBBcnJheS5pc0FycmF5KHBhcmFtcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2h0dHAucGFyYW1zID0gcGFyYW1zXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1doZW4gdGhlIHBhcmFtZXRlciB0eXBlIGlzIG9iamVjdCwgVGhlIGFyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgbGl0ZXJhbCBvYmplY3QnKVxuICAgICAgICB9ICAgXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNldCB3aGV0aGVyIHRvIGNhcnJ5IGNvb2tpZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlmQ29va2llIFxuICAgICAqL1xuICAgIHNldENvb2tpZShpZkNvb2tpZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlmQ29va2llID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2h0dHAuY29va2llID0gaWZDb29raWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlJylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVxdWVzdCBtZXRob2RcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFxuICAgICAqL1xuICAgIHNldE1ldGhvZChtZXRob2QgPSBudWxsKSB7XG4gICAgICAgIG1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGlmIChNRVRIT0RfVFlQRVMuaW5jbHVkZXMobWV0aG9kKSkge1xuICAgICAgICAgICAgdGhpcy5faHR0cC5tZXRob2QgPSBtZXRob2RcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcmVxdWVzdCBmaWx0ZXIgcGlwZWxpbmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IHBpcGVzIFxuICAgICAqL1xuICAgIHJlcVBpcGVzKC4uLnBpcGVzKSB7XG4gICAgICAgIGlmIChwaXBlcy5maW5kKHBpcGUgPT50eXBlb2YgcGlwZSAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUGlwZSBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGlwZXMucmVxUGlwZXMgPSBbLi4ucGlwZXNdXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlc3BvbnNlIGZpbHRlciBwaXBlbGluZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSAgey4uLmFueX0gcGlwZXMgXG4gICAgICovXG4gICAgcmVzUGlwZXMoLi4ucGlwZXMpIHtcbiAgICAgICAgaWYgKHBpcGVzLmZpbmQocGlwZSA9PnR5cGVvZiBwaXBlICE9PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQaXBlIG11c3QgYmUgYSBmdW5jdGlvbicpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9waXBlcy5yZXNQaXBlcyA9IFsuLi5waXBlc11cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCByZXF1ZXN0IGludGVyY2VwdG9yXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgXG4gICAgICovXG4gICAgcmVxSW50ZXJjZXB0b3IoaW50ZXJjZXB0b3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BpcGVzLnJlcVBpcGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVyY2VwdG9ycy5hZnRlclJlcSA9IGludGVyY2VwdG9yXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVyY2VwdG9ycy5iZWZvcmVSZXEgPSBpbnRlcmNlcHRvclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlJylcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTZXQgcmVzcG9uc2UgaW50ZXJjZXB0b3JcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBcbiAgICAgKi9cbiAgICByZXNJbnRlcmNlcHRvcihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGlwZXMucmVzUGlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJjZXB0b3JzLmFmdGVyUmVzID0gaW50ZXJjZXB0b3JcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJjZXB0b3JzLmJlZm9yZVJlcyA9IGludGVyY2VwdG9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGUnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCB0aGUgcmVxdWVzdCB0byB0aGUgc2VydmVyXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBwYXJhbXMgXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgXG4gICAgICovXG4gICAgYXN5bmMgX3NlbmRSZXF1ZXN0KHBhcmFtcyA9IHRoaXMuX2h0dHAucGFyYW1zLCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IHt1cmwsIG1ldGhvZCwgY29va2llfSA9IHRoaXMuX2h0dHBcbiAgICAgICAgY29uc3Qge2Vycm9ySG9va30gPSB0aGlzLl9ob29rXG4gICAgICAgIGNvbnN0IHtyZXFQaXBlcywgcmVzUGlwZXN9ID0gdGhpcy5fcGlwZXNcbiAgICAgICAgY29uc3Qge2JlZm9yZVJlcSwgYWZ0ZXJSZXEsIGJlZm9yZVJlcywgYWZ0ZXJSZXN9ID0gdGhpcy5faW50ZXJjZXB0b3JzXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHJlcVBpcGVzOiBnbG9iYWxSZXFQaXBlcywgXG4gICAgICAgICAgICByZXNQaXBlczogZ2xvYmFsUmVzUGlwZXMsXG4gICAgICAgICAgICBiZWZvcmVSZXE6IGdsb2JhbEJlZm9yZVJlcSxcbiAgICAgICAgICAgIGFmdGVyUmVxOiBnbG9iYWxBZnRlclJlcSxcbiAgICAgICAgICAgIGJlZm9yZVJlczogZ2xvYmFsQmVmb3JlUmVzLFxuICAgICAgICAgICAgYWZ0ZXJSZXM6IGdsb2JhbEFmdGVyUmVzXG4gICAgICAgIH0gPSB0aGlzLmNvbnN0cnVjdG9yLmdsb2JhbFxuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVxdWVzdFR5cGUgPSB0eXBlID8gdHlwZSA6IG1ldGhvZFxuICAgICAgICBjb25zdCByZXF1ZXN0UGFyYW1zID0gdGhpcy5fZ2V0UGFyYW1zKHBhcmFtcylcblxuICAgICAgICAvLyBGcm9udCByZXF1ZXN0IGludGVyY2VwdG9yXG4gICAgICAgIGlmICgoZ2xvYmFsQmVmb3JlUmVxICYmIGdsb2JhbEJlZm9yZVJlcShyZXF1ZXN0UGFyYW1zKSA9PT0gZmFsc2UpIFxuICAgICAgICB8fCAoYmVmb3JlUmVxICYmIGJlZm9yZVJlcShyZXF1ZXN0UGFyYW1zKSA9PT0gZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gXG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBmaWx0ZXJpbmdcbiAgICAgICAgbGV0IGZpbmFsUGFyYW1zXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmaW5hbFBhcmFtcyA9IGRhdGFGaWx0ZXJpbmcoWy4uLmdsb2JhbFJlcVBpcGVzLCAuLi5yZXFQaXBlc10sIHJlcXVlc3RQYXJhbXMpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvckhvb2soZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlYXIgcmVxdWVzdCBpbnRlcmNlcHRvclxuICAgICAgICBpZiAoKGdsb2JhbEFmdGVyUmVxICYmIGdsb2JhbEFmdGVyUmVxKGZpbmFsUGFyYW1zKSA9PT0gZmFsc2UpIFxuICAgICAgICB8fCAoYWZ0ZXJSZXEgJiYgYWZ0ZXJSZXEoZmluYWxQYXJhbXMpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0W3JlcXVlc3RUeXBlXShcbiAgICAgICAgICAgIHVybCwgXG4gICAgICAgICAgICBmaW5hbFBhcmFtcyxcbiAgICAgICAgICAgIHRoaXMucmVxdWVzZXRIZWFkZXIsXG4gICAgICAgICAgICBjb29raWVcbiAgICAgICAgKVxuICAgICAgICBcbiAgICAgICAgLy8gRnJvbnQgcmVzcG9uc2UgaW50ZXJjZXB0b3JcbiAgICAgICAgaWYgKChnbG9iYWxCZWZvcmVSZXMgJiYgZ2xvYmFsQmVmb3JlUmVzKGRhdGEpID09PSBmYWxzZSkgXG4gICAgICAgIHx8IChiZWZvcmVSZXMgJiYgYmVmb3JlUmVzKGRhdGEpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBmaWx0ZXJpbmdcbiAgICAgICAgbGV0IGZpbmFsRGF0YVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmluYWxEYXRhID0gZGF0YUZpbHRlcmluZyhbLi4uZ2xvYmFsUmVzUGlwZXMsIC4uLnJlc1BpcGVzXSwgZGF0YSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9ySG9vayhlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlYXIgcmVzcG9uc2UgaW50ZXJjZXB0b3JcbiAgICAgICAgaWYgKChnbG9iYWxBZnRlclJlcyAmJiBnbG9iYWxBZnRlclJlcyhmaW5hbERhdGEpID09PSBmYWxzZSkgXG4gICAgICAgIHx8IChhZnRlclJlcyAmJiBhZnRlclJlcyhmaW5hbERhdGEpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaW5hbERhdGFcbiAgICB9XG59XG5cbi8vIEJpbmQgcmVxdWVzdCBjYXRlZ29yeSBcbk1FVEhPRF9UWVBFUy5tYXAocmVxdWVzdFR5cGU9PntcbiAgICBSZWl4cy5wcm90b3R5cGVbcmVxdWVzdFR5cGVdID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdChwYXJhbXMsIHJlcXVlc3RUeXBlKVxuICAgIH1cbn0pXG5cbmV4cG9ydCBkZWZhdWx0IFJlaXhzIiwiLyoqXG4gKiBUaGUgdW5kZXJseWluZyByZXF1ZXN0IG1vZGVsXG4gKi9cbmNsYXNzIFNjaGVkdWxlciB7XG4gICAgLy8gUmVxdWVzdCB0cmlnZ2VyIHJ1bGUgY29uZmlndXJhdGlvblxuICAgIF9jb25maWcgPSB7XG4gICAgICAgIHRocm90dGxlOiBmYWxzZSxcbiAgICAgICAgZGVib3VuY2U6IDAsXG4gICAgICAgIGF1ZGl0OiBmYWxzZSxcbiAgICAgICAgb3ZlcnRpbWU6IG51bGxcbiAgICB9XG5cbiAgICAvLyBMaWZlIGN5Y2xlIGZ1bmN0aW9uXG4gICAgX2hvb2sgPSB7XG4gICAgICAgIHByZXBhcmVIb29rOiBudWxsLFxuICAgICAgICB0YXJ0SG9vazogbnVsbCxcbiAgICAgICAgZW5kSG9vazogbnVsbCxcbiAgICAgICAgZXJyb3JIb29rOiBudWxsXG4gICAgfVxuXG4gICAgLy8gVGFzayBxdWV1ZSBleGVjdXRlZCBhZnRlciB0aGUgcmVxdWVzdCBpcyBjb21wbGV0ZWRcbiAgICBfdGFza0xpc3QgPSBuZXcgTWFwKClcblxuICAgIC8qKlxuICAgICAqIENpcmN1bGFyIGNhbGwgdGFza1xuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBcbiAgICAgKi9cbiAgICBfZXhlY3V0ZShkYXRhKSB7XG4gICAgICAgIGNvbnN0IHtlcnJvckhvb2t9ID0gdGhpcy5faG9va1xuICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIFsuLi50aGlzLl90YXNrTGlzdC5rZXlzKCldLmZvckVhY2godGFzayA9PntcbiAgICAgICAgICAgICAgICAgICAgdGFzayhkYXRhKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9ySG9vayAmJiBlcnJvckhvb2soZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhyb3R0bGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcnxib29sZWFufSBzZXR0aW5ncyBcbiAgICAgKi9cbiAgICB0aHJvdHRsZShzZXR0aW5ncykge1xuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnbnVtYmVyJyB8fCBzZXR0aW5ncyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy50aHJvdHRsZSA9IHNldHRpbmdzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZGVib3VuY2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcnxib29sZWFufSBzZXR0aW5ncyBcbiAgICAgKi9cbiAgICBkZWJvdW5jZShzZXR0aW5ncykge1xuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnbnVtYmVyJyB8fCBzZXR0aW5ncyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5kZWJvdW5jZSA9IHNldHRpbmdzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0IGF1ZGl0XG4gICAgICogXG4gICAgICogQHBhcmFtIHtudW1iZXJ8Ym9vbGVhbn0gc2V0dGluZ3MgXG4gICAgICovXG4gICAgYXVkaXQoc2V0dGluZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHNldHRpbmdzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5hdWRpdCA9IHNldHRpbmdzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0IG92ZXJ0aW1lXG4gICAgICogXG4gICAgICogQHBhcmFtIHtudW1iZXJ8bnVsbH0gdGltZSBcbiAgICAgKi9cbiAgICBvdmVydGltZSh0aW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGltZSA9PT0gJ251bWJlcicgfHwgdGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLm92ZXJ0aW1lID0gdGltZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR5cGUnKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIHRhc2tcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0YXNrIFxuICAgICAqL1xuICAgIHRhc2sodGFzaykge1xuICAgICAgICBpZiAodHlwZW9mIHRhc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuX3Rhc2tMaXN0LnNldCh0YXNrKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhc3NpZ25lZCB0YXNrXG4gICAgICogXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdGFzayBcbiAgICAgKi9cbiAgICByZW1vdmVUYXNrKHRhc2spIHtcbiAgICAgICAgaWYgKCF0aGlzLl90YXNrTGlzdC5kZWxldGUodGFzaykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVtb3ZlIHRhc2sgZmFpbGVkJylcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgdGFza1xuICAgICAqL1xuICAgIHJlbW92ZUFsbFRhc2soKSB7XG4gICAgICAgIHRoaXMuX3Rhc2tMaXN0LmNsZWFyKClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0byBwcmVwYXJlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlcGFyZUhvb2sgXG4gICAgICovXG4gICAgcHJlcGFyZShwcmVwYXJlSG9vaykge1xuICAgICAgICBpZiAodHlwZW9mIHByZXBhcmVIb29rID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl9ob29rLnByZXBhcmVIb29rID0gcHJlcGFyZUhvb2tcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRvIHN0YXJ0XG4gICAgICogXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RhcnRIb29rIFxuICAgICAqL1xuICAgIHN0YXJ0KHN0YXJ0SG9vaykge1xuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0SG9vayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5faG9vay5zdGFydEhvb2sgPSBzdGFydEhvb2tcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCB0byBlbmRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmRIb29rIFxuICAgICAqL1xuICAgIGVuZChlbmRIb29rKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW5kSG9vayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5faG9vay5lbmRIb29rID0gZW5kSG9va1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0eXBlJylcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRvIGVycm9yXG4gICAgICogXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3JIb29rIFxuICAgICAqL1xuICAgIGVycm9yKGVycm9ySG9vaykge1xuICAgICAgICBpZiAodHlwZW9mIGVycm9ySG9vayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5faG9vay5lcnJvckhvb2sgPSBlcnJvckhvb2tcbiAgICAgICAgICAgIHJldHVybiB0aGlzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFNjaGVkdWxlciBpcyBibG9ja2VkIGZyb20gaW5oZXJpdGluZyBhbiBPYmplY3Rcbk9iamVjdC5zZXRQcm90b3R5cGVPZihTY2hlZHVsZXIucHJvdG90eXBlLCBPYmplY3QuY3JlYXRlKG51bGwpKVxuXG5leHBvcnQgZGVmYXVsdCBTY2hlZHVsZXIiLCJpbXBvcnQgTWFya01hcCBmcm9tICcuL21hcmstbWFwJ1xuaW1wb3J0IHtUaHJvdHRsZVdhaXQsIERlYm91bmNlV2FpdH0gZnJvbSAnLi93YWl0J1xuaW1wb3J0IHJlcXVlc3RUaW1lciBmcm9tICcuL3JlcXVlc3QtdGltZXInXG5cbi8qKlxuICogVGhlIG1ldGhvZCB0byBjcmVhdGUgdGhlIHJlcXVlc3RcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHNlbmRSZXF1ZXN0IFxuICogQHBhcmFtIHtBcnJheX0gZXhlY3V0ZSBcbiAqIEBwYXJhbSB7T2JqZWN0fSBob29rIFxuICovIFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29uZmlnLCBzZW5kUmVxdWVzdCwgZXhlY3V0ZSwgaG9vaykge1xuICAgIGNvbnN0IG1hcmtNYXAgPSBuZXcgTWFya01hcCgpXG4gICAgY29uc3QgdGhyb3R0bGVXYWl0ID0gbmV3IFRocm90dGxlV2FpdCgpXG4gICAgY29uc3QgZGVib3VuY2VXYWl0ID0gbmV3IERlYm91bmNlV2FpdCgpXG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKC4uLnBhcikge1xuICAgICAgICBjb25zdCB7cHJlcGFyZUhvb2ssIHN0YXJ0SG9vaywgZW5kSG9va30gPSBob29rXG4gICAgICAgIGNvbnN0IHt0aHJvdHRsZSwgZGVib3VuY2UsIGF1ZGl0LCBvdmVydGltZX0gPSBjb25maWdcblxuICAgICAgICAvLyBFeHRlcm5hbCByZXdyaXRlIG1ldGhvZFxuICAgICAgICBjb25zdCB7aW5qZWN0aW9ufSA9IHRoaXNcblxuICAgICAgICBwcmVwYXJlSG9vayAmJiBwcmVwYXJlSG9vaygpXG4gICAgICAgIGxldCBtYXJrXG4gICAgICAgIGlmIChhdWRpdCkge1xuICAgICAgICAgICAgbWFyayA9IG1hcmtNYXAuZ2V0KGF1ZGl0KVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRocm90dGxlV2FpdC5nZXQodGhyb3R0bGUpLCBcbiAgICAgICAgICAgIGRlYm91bmNlV2FpdC5nZXQoZGVib3VuY2UpXG4gICAgICAgIF0pXG4gICAgICAgIHN0YXJ0SG9vayAmJiBzdGFydEhvb2soKVxuICAgICAgICBjb25zdCB7dGltZW91dCwgZGF0YX0gPSBhd2FpdCByZXF1ZXN0VGltZXIoc2VuZFJlcXVlc3QoLi4ucGFyKSwgb3ZlcnRpbWUpXG5cbiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW5kSG9vayAmJiBlbmRIb29rKClcbiAgICAgICAgICAgIHJldHVybiBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIGF1ZGl0IGlzIHNldCwgdGhlIGR1cGxpY2F0ZSByZXF1ZXN0IGlzIGRpc2NhcmRlZFxuICAgICAgICBpZiAoIWF1ZGl0IHx8IG1hcmtNYXAudGVzdChtYXJrKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHRpbWVvdXQgb2NjdXJzLCB0aGUgdGFzayBpcyBub3QgcHJvY2Vzc2VkXG4gICAgICAgICAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5qZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdGlvbihkYXRhKVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZXhlY3V0ZShkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kSG9vayAmJiBlbmRIb29rKClcbiAgICAgICAgfVxuICAgIH1cbn0iLCIvKipcbiAqIFZlcmlmeSB0aGF0IG1hcmsgaXMgZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XG4gICAgX21hcCA9IFtdXG5cbiAgICAvKipcbiAgICAgKiBHZXQgbWFya1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfGJvb2xlYW59IGF1ZGl0IFxuICAgICAqL1xuICAgIGdldChhdWRpdCkge1xuICAgICAgICBjb25zdCB7X21hcH0gPSB0aGlzXG4gICAgICAgIGlmIChhdWRpdCkge1xuICAgICAgICAgICAgY29uc3Qgc3ltID0gU3ltYm9sKClcbiAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBEYXRlLm5vdygpXG4gICAgICAgICAgICBsZXQgc2lnblxuICAgICAgICAgICAgaWYgKCFfbWFwLmxlbmd0aCBcbiAgICAgICAgICAgICAgICB8fCAodGltZSAtIF9tYXBbX21hcC5sZW5ndGggLSAxXS50aW1lID4gYXVkaXQgXG4gICAgICAgICAgICAgICAgICAgICYmIGF1ZGl0ICE9PSB0cnVlKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2lnbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3ltLCBcbiAgICAgICAgICAgICAgICAgICAgdGltZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfbWFwLnB1c2goc2lnbilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2lnbiA9IF9tYXBbX21hcC5sZW5ndGggLSAxXVxuICAgICAgICAgICAgICAgIHNpZ24uc3ltID0gc3ltXG4gICAgICAgICAgICAgICAgc2lnbi50aW1lID0gdGltZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICAgICAgc3ltOiBzaWduLnN5bVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHRoZSBtYXJrXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmsgXG4gICAgICovXG4gICAgdGVzdChtYXJrKSB7XG4gICAgICAgIGlmIChtYXJrICYmIG1hcmsuc3ltICE9PSBtYXJrLnNpZ24uc3ltKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBcblxuICAgICAgICBpZiAobWFyaykge1xuICAgICAgICAgICAgY29uc3Qge19tYXB9ID0gdGhpc1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBfbWFwLmluZGV4T2YobWFyay5zaWduKVxuICAgICAgICAgICAgX21hcC5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59IiwiLyoqXG4gKiBDcmVhdGUgZGVsYXkgcHJvbWlzZVxuICogXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZSBcbiAqL1xuZnVuY3Rpb24gY3JlYXRlV2FpdCh0aW1lKSB7XG4gICAgcmV0dXJuIHRpbWUgPT09IDAgPyBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICA6IG5ldyBQcm9taXNlKHJlc29sdmU9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PnJlc29sdmUoKSwgdGltZSlcbiAgICAgICAgfSlcbn1cblxuLyoqXG4gKiBEZXRlY3QgdGltZW91dFxuICogXG4gKiBAcGFyYW0ge1Byb21pc2V9IHByb21pc2UgXG4gKiBAcGFyYW0ge251bGx8bnVtYmVyfSB0aW1lIFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1ZXN0VGltZXIocHJvbWlzZSwgdGltZSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBwcm9taXNlLnRoZW4oZGF0YT0+KHtcbiAgICAgICAgdGltZW91dDogZmFsc2UsIFxuICAgICAgICBkYXRhXG4gICAgfSkpXG4gICAgY29uc3QgdGltZXIgPSBjcmVhdGVXYWl0KHRpbWUpLnRoZW4oKCk9Pih7XG4gICAgICAgIHRpbWVvdXQ6IHRydWUsIFxuICAgICAgICBkYXRhOiBudWxsXG4gICAgfSkpXG4gICAgcmV0dXJuIHRpbWUgPT09IG51bGwgPyByZXF1ZXN0XG4gICAgICAgIDogUHJvbWlzZS5yYWNlKFtyZXF1ZXN0LCB0aW1lcl0pXG59IiwiLyoqXG4gKiBDcmVhdGUgd2FpdCBvYmplY3RcbiAqL1xuY2xhc3MgV2FpdCB7XG4gICAgX3RpbWVyID0gbnVsbFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGludGVybmFsIHByb21pc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBcbiAgICAgKi9cbiAgICBfY3JlYXRlUHJvbWlzZSh0aW1lKSB7XG4gICAgICAgIHJldHVybiB0aW1lID8gbmV3IFByb21pc2UocmVzb2x2ZT0+e1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSAgc2V0VGltZW91dCgoKT0+eyBcbiAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IG51bGxcbiAgICAgICAgICAgICAgICByZXNvbHZlKCkgXG4gICAgICAgICAgICB9LCB0aW1lKVxuICAgICAgICB9KSA6IFByb21pc2UucmVzb2x2ZSgpXG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZSBkZWJvdW5jZSB3YWl0IG9iamVjdFxuICovXG5leHBvcnQgY2xhc3MgVGhyb3R0bGVXYWl0IGV4dGVuZHMgV2FpdCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgYXdhaXQgcHJvbWlzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIFxuICAgICAqL1xuICAgIGdldCh0aW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl90aW1lcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpPT57fSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlUHJvbWlzZSh0aW1lKVxuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgZGVib3VuY2Ugd2FpdCBvYmplY3RcbiAqL1xuZXhwb3J0IGNsYXNzIERlYm91bmNlV2FpdCBleHRlbmRzIFdhaXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2V0IGF3YWl0IHByb21pc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBcbiAgICAgKi9cbiAgICBnZXQodGltZSkge1xuICAgICAgICBpZiAodGhpcy5fdGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcilcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVQcm9taXNlKHRpbWUpXG4gICAgfVxufSIsIlxuLyoqXG4gKiBDaGVjayBmb3Igc3VjY2Vzc1xuICogXG4gKiBAcGFyYW0ge09iamVjdH0gcmVzcG9uc2UgXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU3RhdHVzKHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpXG4gICAgICAgIGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpXG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKVxuICAgIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgZmV0Y2hcbiAqIFxuICogQHBhcmFtIHtPYmplY3R9IHByb21pc2UgXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUZldGNoKHByb21pc2UpIHtcbiAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiBjaGVja1N0YXR1cyhyZXNwb25zZSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9KVxufSIsImltcG9ydCB7Q09OVEVOVF9UWVBFfSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJ1xuaW1wb3J0IGhhbmRsZUZldGNoIGZyb20gJy4vaGFuZGxlLWZldGNoJ1xuaW1wb3J0IHtpc1BsYWluT2JqZWN0fSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnXG5cbi8qKlxuICogUXVlcnkgU3RyaW5nIFBhcmFtZXRlcnNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0geyp9IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNvb2tpZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0KHVybCwgZGF0YSwgaGVhZGVycywgY29va2llKSB7XG4gICAgdXJsID0gbmV3IFVSTCh1cmwpXG4gICAgaWYgKGlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZGF0YSlcbiAgICAgICAgICAgIC5mb3JFYWNoKGtleSA9PiB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIGRhdGFba2V5XSkpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgdXJsLnNlYXJjaCA9IGRhdGEudG9TdHJpbmcoKVxuICAgIH1cbiAgICBjb25zdCBwcm9taXNlID0gZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLmhlYWRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGVudGlhbHM6IGNvb2tpZSA/ICdpbmNsdWRlJyA6ICdvbWl0J1xuICAgIH0pXG4gICAgcmV0dXJuIGhhbmRsZUZldGNoKHByb21pc2UpXG59XG5cbi8qKlxuICogRHluYW1pYyBSb3V0ZXJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKiBAcGFyYW0geyp9IGRhdGFcbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNvb2tpZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaCh1cmwsIGRhdGEsIGhlYWRlcnMsIGNvb2tpZSkge1xuICAgIHVybCA9IG5ldyBVUkwodXJsKVxuICAgIHVybC5wYXRobmFtZSArPSBgLyR7ZGF0YS50b1N0cmluZygpfWBcbiAgICBjb25zdCBwcm9taXNlID0gZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLmhlYWRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgY3JlZGVudGlhbHM6IGNvb2tpZSA/ICdpbmNsdWRlJyA6ICdvbWl0J1xuICAgIH0pXG4gICAgcmV0dXJuIGhhbmRsZUZldGNoKHByb21pc2UpXG59XG5cbi8qKlxuICogUmVxdWVzdCBQYXlsb2FkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICogQHBhcmFtIHsqfSBkYXRhXG4gKiBAcGFyYW0ge09iamVjdH0gaGVhZGVyc1xuICogQHBhcmFtIHtib29sZWFufSBjb29raWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc3QodXJsLCBkYXRhLCBoZWFkZXJzLCBjb29raWUpIHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybClcbiAgICBpZiAoaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZGF0YSlcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZSA9IGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZGF0YS50b1N0cmluZygpLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC10eXBlJzogQ09OVEVOVF9UWVBFWydKU09OJ10sXG4gICAgICAgICAgICAuLi5oZWFkZXJzXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWRlbnRpYWxzOiBjb29raWUgPyAnaW5jbHVkZScgOiAnb21pdCdcbiAgICB9KVxuICAgIHJldHVybiBoYW5kbGVGZXRjaChwcm9taXNlKVxufVxuXG4vKipcbiAqIEZvcm0gRGF0YVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7Kn0gZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY29va2llXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JtKHVybCwgZGF0YSwgaGVhZGVycywgY29va2llKSB7XG4gICAgdXJsID0gbmV3IFVSTCh1cmwpXG4gICAgbGV0IGZyb21EYXRhID0gJydcbiAgICBpZiAoaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBmcm9tRGF0YSArPSBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrZXldKX0mYFxuICAgICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZyb21EYXRhID0gZGF0YS50b1N0cmluZygpXG4gICAgfVxuICAgIGNvbnN0IHByb21pc2UgPSBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZyb21EYXRhLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC10eXBlJzogQ09OVEVOVF9UWVBFWydGT1JNJ10sXG4gICAgICAgICAgICAuLi5oZWFkZXJzXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWRlbnRpYWxzOiBjb29raWUgPyAnaW5jbHVkZScgOiAnb21pdCdcbiAgICB9KVxuICAgIHJldHVybiBoYW5kbGVGZXRjaChwcm9taXNlKVxufVxuIiwiaW1wb3J0IHtSZWl4cywgUmVpeHNBbGwsIFJlaXhzUmFjZX0gZnJvbSAnLi9jb3JlL2NvbnN0cnVjdG9yJ1xuXG5pbXBvcnQge2lzUGxhaW5PYmplY3R9IGZyb20gJy4vc2hhcmVkL3V0aWxzJ1xuXG4vKipcbiAqIFNldCBwaXBlIFxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAqIEBwYXJhbSAgey4uLmFueX0gZnVuTGlzdCBcbiAqL1xuZnVuY3Rpb24gc2V0UGlwZXMobmFtZSwgLi4uZnVuTGlzdCkge1xuICAgIGZ1bkxpc3QuZm9yRWFjaChmbj0+e1xuICAgICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgICAgIH1cbiAgICB9KVxuICAgIFJlaXhzLmdsb2JhbFtuYW1lXSA9IFsuLi5mdW5MaXN0XVxufVxuXG4vKipcbiAqIFNldCBJbnRlcmNlcHRvclxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1biBcbiAqL1xuZnVuY3Rpb24gc2V0SW50ZXJjZXB0b3IobmFtZSwgZnVuKSB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBSZWl4cy5nbG9iYWxbbmFtZV0gPSBmdW5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHlwZScpXG4gICAgfVxufVxuXG4vKipcbiAqIHJlaXhzIG1ldGhvZFxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBcbiAqIEBwYXJhbSB7Kn0gcGFyYW1zIFxuICovXG5mdW5jdGlvbiByZWl4cyh1cmwsIG1ldGhvZCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuICBuZXcgUmVpeHModXJsLCBtZXRob2QsIHBhcmFtcylcbn1cblxuLy8gcmVpeHMuYWxsXG5yZWl4cy5hbGwgPSAoLi4uc2NoZWR1bGVyKSA9PiBuZXcgUmVpeHNBbGwoLi4uc2NoZWR1bGVyKVxuLy8gcmVpeHMucmFjZVxucmVpeHMucmFjZSA9ICguLi5zY2hlZHVsZXIpID0+IG5ldyBSZWl4c1JhY2UoLi4uc2NoZWR1bGVyKVxuXG4vLyBSZXBsYWNlZCBieSBicm93c2VyaWZ5LXZlcnNpb25pZnkgdHJhbnNmb3JtXG5yZWl4cy52ZXJzaW9uID0gJ19fVkVSU0lPTl9fJ1xuXG4vLyBTZXQgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcGlwZVxucmVpeHMucmVxUGlwZXMgPSBzZXRQaXBlcy5iaW5kKG51bGwsICdyZXFQaXBlcycpXG5yZWl4cy5yZXNQaXBlcyA9IHNldFBpcGVzLmJpbmQobnVsbCwgJ3Jlc1BpcGVzJylcblxuLy8gU2V0IHJlcXVlc3QgYW5kIHJlc3BvbnNlIGludGVyY2VwdG9yXG5yZWl4cy5iZWZvcmVSZXEgPSBzZXRJbnRlcmNlcHRvci5iaW5kKG51bGwsICdiZWZvcmVSZXEnKVxucmVpeHMuYWZ0ZXJSZXEgPSBzZXRJbnRlcmNlcHRvci5iaW5kKG51bGwsICdhZnRlclJlcScpXG5yZWl4cy5iZWZvcmVSZXMgPSBzZXRJbnRlcmNlcHRvci5iaW5kKG51bGwsICdiZWZvcmVSZXMnKVxucmVpeHMuYWZ0ZXJSZXMgPSBzZXRJbnRlcmNlcHRvci5iaW5kKG51bGwsICdhZnRlclJlcycpXG5cbi8vIFNldCBnbG9iYWwgaGVhZGVyXG5SZWZsZWN0LmRlZmluZVByb3BlcnR5KHJlaXhzLCAnZ2xvYmFsSGVhZGVyJywge1xuICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIFJlaXhzLmdsb2JhbC5nbG9iYWxIZWFkZXIgPSB2YWx1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYXJndW1lbnQgcGFzc2VkIGluIG11c3QgYmUgYSBsaXRlcmFsIG9iamVjdCcpXG4gICAgICAgIH1cbiAgICB9XG59KVxuXG4vLyBTZXQgZ2xvYmFsIHBhcmFtc1xuUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShyZWl4cywgJ2dsb2JhbFBhcmFtcycsIHtcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICBSZWl4cy5nbG9iYWwuZ2xvYmFsUGFyYW1zID0gdmFsdWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGFyZ3VtZW50IHBhc3NlZCBpbiBtdXN0IGJlIGEgbGl0ZXJhbCBvYmplY3QnKVxuICAgICAgICB9XG4gICAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgcmVpeHNcblxuXG4iLCJleHBvcnQgY29uc3QgTUVUSE9EX1RZUEVTID0gW1xuICAgICdnZXQnLFxuICAgICdwb3N0JyxcbiAgICAnZm9ybScsXG4gICAgJ3B1c2gnXG5dXG5cbmV4cG9ydCBjb25zdCBDT05URU5UX1RZUEUgPSB7XG4gICAgSlNPTjogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgRk9STTogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCdcbn0iLCIvKipcbiAqIERhdGEgcHJvY2Vzc2luZ1xuICogXG4gKiBAcGFyYW0ge0FycmF5fSBwaXBlcyBcbiAqIEBwYXJhbSB7Kn0gZGF0YSBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGFGaWx0ZXJpbmcocGlwZXMsIGRhdGEpIHtcbiAgICBjb25zdCBuZXdEYXRhID0gW2RhdGEsIC4uLnBpcGVzXS5yZWR1Y2UoKHByZXYsIGN1cik9PmN1cihwcmV2KSlcbiAgICByZXR1cm4gbmV3RGF0YVxufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBpdCBpcyBhIGxpdGVyYWwgb2JqZWN0XG4gKiBcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBmYWxzZVxuICBcbiAgICBsZXQgcHJvdG8gPSBvYmpcbiAgICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bylcbiAgICB9XG4gIFxuICAgIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG9cbn1cbiAgIl19"}